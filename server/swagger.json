{
    "swagger": "2.0",
    "info": {
    "version": "1.0.0",
    "title": "Food Catering API",
    "description": "Project for problem-solving workshop",
    "license": {
    "name": "MIT",
    "url": "https://opensource.org/licenses/MIT"
    }
    },
    "host": "localhost:5000",
    "basePath": "/api/v1/",
    "tags": [
    {
    "name": "Auth",
    "description": "API for auth"
    }
    ],
    "schemes": [
    "http"
    ],
    "consumes": [
    "application/json"
    ],
    "produces": [
    "application/json"
    ],
    "paths":{
        "/auth/login": {
            "post":{
                "tags": [
                    "Auth"
                ],
                "description": "Log into system",
                "parameters": [
                    {
                        "name": "login",
                        "in": "body",
                        "description": "Request body",
                        "schema": {
                            "$ref": "#/definitions/Login"
                          }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    
                    "200": {
                        "description": "Success",
                        "schema" : {
                            "$ref": "#/definitions/LoginInfo"
                        }
                    },
                    "400":{
                        "description": "Provide email and password",
                        "schema" : {
                            "$ref": "#/definitions/InvalidCredentials"
                        }
                    },
                    "401":{
                        "description": "Invalid crudentials",
                        "schema" : {
                            "$ref": "#/definitions/InvalidCredentials"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post":{
                "tags": [
                    "Auth"
                ],
                "description": "Register parent",
                "parameters": [
                    {
                        "name": "register",
                        "in": "body",
                        "description": "Request body",
                        "schema": {
                            "$ref": "#/definitions/Register"
                          }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema" : {
                            "$ref": "#/definitions/RegisterInfo"
                        }
                    },
                    "401":{
                        "description": "Invalid agency code",
                        "schema" : {
                            "$ref": "#/definitions/InvalidCredentials"
                        }
                    }
                }
            }
        },
        "/auth/addAgency": {
            "post":{
                "tags": [
                    "Auth"
                ],
                "description": "Add agency, private route for Admin",
                "parameters": [
                    {
                        "name": "addAgency",
                        "in": "body",
                        "description": "Request body",
                        "schema": {
                            "$ref": "#/definitions/AddAgency"
                          }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Only res -> success: true"
                    }

                }
            }
        }
    },
    "definitions": {
        "Login": {
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "Register": {
            "required": [
                "email",
                "password",
                "firstName",
                "lastName",
                "agencyCode"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "firstName": {
                    "type": "string"
                },
                "lastName": {
                    "type": "string"
                },
                "agencyCode": {
                    "type":"string"
                }
            }
        },
        "AddAgency": {
            "required": [
                "email",
                "name",
                "ordersPeriod"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "ordersPeriod": {
                    "type": "string",
                    "enum": ["day", "week", "month", "semestr"]
                }
            }
        },
        "User": {
            "properties": {
                "email": {
                    "type": "string"
                },
                "firstName": {
                    "type": "string"
                },
                "lastName": {
                    "type": "string"
                },
                "agencyCode": {
                    "type":"string"
                }
            }
        },
        "Agency": {
            "properties": {
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "agencyCode": {
                    "type":"string"
                },
                "ordersPeriod": {
                    "type": "String",
                    "enum": ["day", "week", "month", "semestr"]
                }
            }
        },
        "LoginInfo": {
            "properties": {
                "success": {
                    "type": "boolean"
                },
                "data(IfUser)": {
                    "$ref": "#/definitions/User"
                },
                "data(IfAgency)": {
                    "$ref": "#/definitions/Agency"
                }
                
            }
        },
        "RegisterInfo": {
            "properties": {
                "success": {
                    "type": "boolean"
                },
                "data": {
                    "$ref": "#/definitions/Agency"
                }                
            }
        },
        "InvalidCredentials": {
            "properties": {
                "success": {
                    "type": "boolean",
                    "default": false
                },
                "error": {
                    "type": "string"
                }
            }
        }
        
    }
}